{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/zifeizhou/code/doubao-seed-1-6-thinking-code-preview-/airtable-clone/src/app/dashboard/page.jsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { trpc } from '../../trpc/client';\n\nexport default function DashboardPage() {\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [newTableName, setNewTableName] = useState('');\n  const [newTableDescription, setNewTableDescription] = useState('');\n  const router = useRouter();\n\n  const { data: tables, isLoading, refetch } = trpc.table.list.useQuery();\n  const createTable = trpc.table.create.useMutation({\n    onSuccess: () => {\n      setShowCreateModal(false);\n      setNewTableName('');\n      setNewTableDescription('');\n      refetch();\n    },\n  });\n\n  const handleCreateTable = async (e) => {\n    e.preventDefault();\n    if (newTableName.trim()) {\n      await createTable.mutateAsync({\n        name: newTableName.trim(),\n        description: newTableDescription.trim(),\n      });\n    }\n  };\n\n  const handleSignOut = async () => {\n    await fetch('/api/auth/logout', { method: 'POST' });\n    router.push('/login');\n    router.refresh();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center\">\n              <h1 className=\"text-xl font-semibold text-gray-900\">Airtable Clone</h1>\n            </div>\n            <button\n              onClick={handleSignOut}\n              className=\"btn btn-secondary\"\n            >\n              Sign Out\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Your Tables</h2>\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"btn btn-primary\"\n          >\n            + Create Table\n          </button>\n        </div>\n\n        {isLoading ? (\n          <div className=\"flex justify-center items-center h-64\">\n            <div className=\"w-8 h-8 border-4 border-gray-300 border-t-blue-600 rounded-full animate-spin\"></div>\n          </div>\n        ) : tables?.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No tables yet</h3>\n            <p className=\"text-gray-500 mb-6\">Create your first table to get started</p>\n            <button\n              onClick={() => setShowCreateModal(true)}\n              className=\"btn btn-primary\"\n            >\n              + Create Table\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {tables?.map((table) => (\n              <div\n                key={table.id}\n                onClick={() => router.push(`/table/${table.id}`)}\n                className=\"bg-white border border-gray-200 rounded-lg p-6 cursor-pointer hover:shadow-md transition-shadow\"\n              >\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">{table.name}</h3>\n                {table.description && (\n                  <p className=\"text-gray-600 text-sm mb-4\">{table.description}</p>\n                )}\n                <div className=\"text-sm text-gray-500\">\n                  Created {new Date(table.createdAt).toLocaleDateString()}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Create Table Modal */}\n      {showCreateModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Create New Table</h3>\n            <form onSubmit={handleCreateTable} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Table Name\n                </label>\n                <input\n                  type=\"text\"\n                  value={newTableName}\n                  onChange={(e) => setNewTableName(e.target.value)}\n                  className=\"input\"\n                  placeholder=\"Enter table name\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Description (Optional)\n                </label>\n                <textarea\n                  value={newTableDescription}\n                  onChange={(e) => setNewTableDescription(e.target.value)}\n                  className=\"input resize-none\"\n                  rows={3}\n                  placeholder=\"Enter table description\"\n                />\n              </div>\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowCreateModal(false)}\n                  className=\"btn btn-secondary\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={createTable.isLoading}\n                  className=\"btn btn-primary\"\n                >\n                  {createTable.isLoading ? (\n                    <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                  ) : (\n                    'Create Table'\n                  )}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///Users/zifeizhou/code/doubao-seed-1-6-thinking-code-preview-/airtable-clone/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}